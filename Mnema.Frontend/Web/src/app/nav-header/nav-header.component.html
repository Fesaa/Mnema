@if (isDesktop()) {
  <div class="nav-wrapper">
    <nav class="nav-header">
      <div class="nav-left">
        <div class="nav-links">
          @for (btn of navPageButtons(); track btn.title) {
            <a
              class="nav-link"
              (click)="buttonGroupService.handleButtonClick(btn, $event)"
              style="cursor: pointer"
            >
              @if (btn.icon) {
                <i class="{{ btn.icon }}"></i>
              }
              <span>{{ btn.title }}</span>
            </a>
          }
        </div>
      </div>

      <div class="nav-right">
        @if (notificationService.notificationsCount() > 0) {
          <span routerLink="/notifications" class="notification-badge clickable" [class]="severity()">
            {{ notificationService.notificationsCount() }}
          </span>
        }

        <div class="dropdown">
          @if (currentUser()) {
            <button class="account-toggle btn btn-secondary" (click)="toggleAccountDropdown()">
              {{ currentUser()?.name | titlecase }}
            </button>

            @if (isAccountDropdownOpen()) {
              <ul class="account-dropdown" @dropdownAnimation>
                @for (item of buttonGroupService.standAloneButtons({title: '', icon: '', buttons: navActionButtons()}); track item.title) {
                  <li>
                      <a
                        (click)="buttonGroupService.handleButtonClick(item, $event); isAccountDropdownOpen.set(false)"
                        style="cursor: pointer"
                      >
                        @if (item.icon) {
                          <i class="{{ item.icon }}"></i>
                        }
                        {{ item.title }}
                      </a>
                  </li>
                }
              </ul>
            }

          }
        </div>
      </div>
    </nav>
  </div>
}

@if (isMobile()) {
  <button class="mobile-fab" (click)="toggleMobileGrid()">
    <i class="fas fa-th"></i>
  </button>

  @if (isMobileGridOpen()) {
    <div class="mobile-grid-backdrop" (click)="toggleMobileGrid()" @fadeAnimation></div>
    <div class="mobile-grid-overlay" @drawerAnimation>
      <div class="overlay-header">
        <span class="overlay-title">{{ 'nav-bar.navigation' | transloco }}</span>
        <button class="close-btn" (click)="toggleMobileGrid()">âœ•</button>
      </div>
      <div class="overlay-content">
        <app-button-grid [groups]="buttonGroupService.dashboardGroups()" [mobileColumns]="2" (click)="toggleMobileGrid()" />
      </div>
    </div>
  }
}
